# Lecture 9 Robust Learning Based MPC

<!-- TODO: implement -->

- Robust Performance Learning-based MPC
  - decouple Performance safety
  - integrate online Learning into control
  - introduce typical high-level work-flow of learning based control

<!-- TODO: implement -->

- Robust adaptive MPC
  - set updades
  - XX

## Robust Performance Learning-based MPC

Nonlinear system

x(k+1) = Ax(k) +Bu(k) + g(x(k),u(k)) + w(k)

Polytopic constraints

Bounde error

### Approach

- linear: z_i
- learned Nonlinear model

x+ + Ax + Bu + O_k(x,u)

O timevarying oracle

- bayesian linear regression
- XX

## Robust Performance LBMPC

<!-- HACK: add definition -->

### Terminal Invariant Set

<!-- TODO: LBMPC set -->

### constraint tightening

- same as in regular Robust

### Performance and Safety

Theorem

## Applications

- Quadcopter

$$
O_k(x,u) = F(\theta)x(k)+ H(\theta)u(k) + s(\theta)
    = [xT uT 1T]\Theta
$$

### Control

TODO: example

### Algorithm

<!-- HACK: Algorithm Quad LBMPC -->

## Ball model

<!-- HACK: Algorithm ball catch -->

## Summary

- limitation: fixed uncertainty descrpition

## Set-Membership-Based Robust adaptive MPC

x(k+1) = A_\theta x(k) + B_\theta u(k) + w(k)

<!-- WARN: Recap? Set-Membership estimation -->

### Parameter uncertainty

<!-- TODO: Parameter uncertainty -->

### Resulting Formulation: Homothetic Tube MPC

Fixing shape of F_i:= {XX}

- additive disturbance
x+ = Ax = Bu = w

- parametric + additive
x+ = A_\theta x = B_\theta u = w

<!-- HACK: formulation Homothetic -->

### Decreasing uncertainty

$$
\mathbb{W}_i = (\Omega,W,\hat{\theta}_i)
$$

<!-- NOTE: derivation, with set membership -->

### Automatic Controller Adaption

<!-- HACK: Algorithm Automatic Controller Adaption -->

- leastsquare update

## example Quadcopter
